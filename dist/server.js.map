{"version":3,"file":"server.js","names":["app","express","port","process","env","PORT","use","bodyParser","json","urlencoded","extended","text","type","req","res","next","header","method","status","apiRouter","listen","error","Error","statusCode","send","message","console","log"],"sources":["../src/server.js"],"sourcesContent":["import \"dotenv/config\"; //preload all the environment values\r\n\r\nimport express from 'express';\r\nimport bodyParser from 'body-parser';\r\nimport apiRouter from './api/routes/index.js';\r\nconst app = express();\r\nconst port = process.env.PORT || 3000;\r\n\r\n//parse application/json and look for raw text                                        \r\napp.use(bodyParser.json());                                     \r\napp.use(bodyParser.urlencoded({extended: true}));               \r\napp.use(bodyParser.text());                                    \r\napp.use(bodyParser.json({ type: 'application/json'}));\r\n\r\n/**\r\n * Adding headers to our requests.\r\n */\r\napp.use((req, res, next) => {\r\n    res.header(\"Access-Control-Allow-Origin\", \"*\");\r\n    res.header(\r\n      \"Access-Control-Allow-Headers\",\r\n      \"Origin, X-Requested-With, Content-Type, Accept, Authorization\"\r\n    );\r\n    if (req.method === \"OPTIONS\") {\r\n      res.header(\"Access-Control-Allow-Methods\", \"GET, POST, PUT, DELETE\");\r\n      return res.status(200).json({});\r\n    }\r\n    next();\r\n});\r\n\r\napp.use(\"/api\", apiRouter);\r\napp.listen(port);\r\n\r\napp.use((req, res, next) => {\r\n    const error = Error(\"Not found\");\r\n    res.statusCode = 404;\r\n    res.send({ error: error.message });\r\n});\r\n\r\nconsole.log('SwapUp RESTful API server started on: ' + port);"],"mappings":";;AAAA;AAEA;AACA;AACA;AAA8C;AAJtB;;AAKxB,MAAMA,GAAG,GAAG,IAAAC,gBAAO,GAAE;AACrB,MAAMC,IAAI,GAAGC,OAAO,CAACC,GAAG,CAACC,IAAI,IAAI,IAAI;;AAErC;AACAL,GAAG,CAACM,GAAG,CAACC,mBAAU,CAACC,IAAI,EAAE,CAAC;AAC1BR,GAAG,CAACM,GAAG,CAACC,mBAAU,CAACE,UAAU,CAAC;EAACC,QAAQ,EAAE;AAAI,CAAC,CAAC,CAAC;AAChDV,GAAG,CAACM,GAAG,CAACC,mBAAU,CAACI,IAAI,EAAE,CAAC;AAC1BX,GAAG,CAACM,GAAG,CAACC,mBAAU,CAACC,IAAI,CAAC;EAAEI,IAAI,EAAE;AAAkB,CAAC,CAAC,CAAC;;AAErD;AACA;AACA;AACAZ,GAAG,CAACM,GAAG,CAAC,CAACO,GAAG,EAAEC,GAAG,EAAEC,IAAI,KAAK;EACxBD,GAAG,CAACE,MAAM,CAAC,6BAA6B,EAAE,GAAG,CAAC;EAC9CF,GAAG,CAACE,MAAM,CACR,8BAA8B,EAC9B,+DAA+D,CAChE;EACD,IAAIH,GAAG,CAACI,MAAM,KAAK,SAAS,EAAE;IAC5BH,GAAG,CAACE,MAAM,CAAC,8BAA8B,EAAE,wBAAwB,CAAC;IACpE,OAAOF,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACV,IAAI,CAAC,CAAC,CAAC,CAAC;EACjC;EACAO,IAAI,EAAE;AACV,CAAC,CAAC;AAEFf,GAAG,CAACM,GAAG,CAAC,MAAM,EAAEa,cAAS,CAAC;AAC1BnB,GAAG,CAACoB,MAAM,CAAClB,IAAI,CAAC;AAEhBF,GAAG,CAACM,GAAG,CAAC,CAACO,GAAG,EAAEC,GAAG,EAAEC,IAAI,KAAK;EACxB,MAAMM,KAAK,GAAGC,KAAK,CAAC,WAAW,CAAC;EAChCR,GAAG,CAACS,UAAU,GAAG,GAAG;EACpBT,GAAG,CAACU,IAAI,CAAC;IAAEH,KAAK,EAAEA,KAAK,CAACI;EAAQ,CAAC,CAAC;AACtC,CAAC,CAAC;AAEFC,OAAO,CAACC,GAAG,CAAC,wCAAwC,GAAGzB,IAAI,CAAC"}